(function(){var a=window.disqus_config;window.disqus_config=function(){if(a){try{a.call(this)}catch(b){console.error("There was a problem with the Disqus configuration.",b)}}this.server_side={bin:"embed:promoted_discovery:dynamic:network_default_hidden:fallthrough",service:"dynamic",bottom_placement_url:"",variant:"fallthrough",forum_id:"5489023",inthread_leading_comment_count:"",sandbox_ads:"1",inthread_show_after_comment:"3",inthread_repeat_comment_count:"",experiment:"network_default_hidden",home_discovery_enabled:"",inthread_placement_url:"",top_placement_url:"",inthread_multiple_ads:"",can_disable_ads:"",inthread_minimum_comment_count:"4",inthread_trailing_comment_count:"",is_private:"",t:"1525509355"}}})();!function(bc,bb){function a9(e){if(Array.isArray(e)){for(var d=0,f=Array(e.length);d<e.length;d++){f[d]=e[d]}return f}return Array.from(e)}function a8(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}function a8(d,c){if(!(d instanceof c)){throw new TypeError("Cannot call a class as a function")}}var a7,a6,a5,a4,a3,a2,a1,a0,aZ,aY,aX,aW,aV,aU,aT,aS,aR,aQ,aP,aO,aN,aM,aD,aC,aB,aA,az,ay,ax,aw,av,au,at,ar,aq,ap,ao,an,am,al,ak,aj,ai,ah,ag,af,ae,ad,aI,be,aE,bd={},aJ={},aF={},ab={},aK={},aG={},ac={},aL={};a7=function(d,c){return Object.prototype.hasOwnProperty.call(d,c)},a6=function(b){return function(a,l){var k=a.length,j=Array.prototype.forEach;if(isNaN(k)){for(var i in a){b(a,i)&&l(a[i],i,a)}}else{if(j){j.call(a,l)}else{for(var h=0;h<k;h++){l(a[h],h,a)}}}}}(a7),bd=function(b){var d=a6;return b=function(c){var e=[];return d(c,function(f,g){f!==bb&&e.push(encodeURIComponent(g)+(null===f?"":"="+encodeURIComponent(f)))}),e.join("&")}}(bd),aJ=function(e){var d=bd;return e=function f(b,j,i){if(j&&(b.indexOf("?")===-1?b+="?":"&"!==b.charAt(b.length-1)&&(b+="&"),b+=d(j)),i){var h={};return h[(new Date).getTime()]=null,f(b,h)}var c=b.length;return"&"===b.charAt(c-1)?b.slice(0,c-1):b}}(aJ),aF=function(a){var h=aJ,g=bc.document,f=g.head||g.getElementsByTagName("head")[0]||g.body;return a=function(d,c,j,i){var e=g.createElement("script");e.src=h(d,c,j),e.async=!0,e.charset="UTF-8",e.onload=i,f.appendChild(e)}}(aF),a5=function(){var a="adsbox",f=100,e=bc.document;return function(b){if(b){var c=e.createElement("div");c.innerHTML="&nbsp;",c.className=a,e.body.appendChild(c),setTimeout(function(){b(0===c.offsetHeight),e.body.removeChild(c)},f)}}}(),a4=function(d){try{return d.self!==d.top}catch(c){return !0}},a3=function(d,c){return function(a){return d(Array.prototype.slice.call(arguments,1),function(b){for(var e in b){c(b,e)&&(a[e]=b[e])}}),a}}(a6,a7),a2=function(p){function o(e){var d=e.split("."),g=d.length>2?d[d.length-2]:"";return g.match(/^[0-9a-f]{32}$/i)&&g}function n(c){(new bc.Image).src=b(a+"/stat.gif",{event:c})}function m(c){(new bc.Image).src=b(a+"/event.gif",c)}function l(i){var h=new bc.URLSearchParams;f(i,function(d,e){d!==bb&&h.append(e,d)});var g=new bc.XMLHttpRequest;g.open("POST",a+"/event.json",!0),g.withCredentials=!0,g.send(h)}var f=a6,b=aJ,a="https://referrer.disqus.com/juggler";return{getLoaderVersionFromUrl:o,logStat:n,reportJester:m,reportJesterPOST:l}}({}),a1=function(){function a(s){s=s||{};var r=s.Math||bc.Math,q=s.Date||bc.Date;try{var p=(new q).getTimezoneOffset(),o=1,n=bc.screen;n&&n.availWidth?o=n.availWidth*n.availHeight+n.colorDepth:n&&n.width&&(o=n.width*n.height);var m=bc.document.documentElement,l=m.clientWidth*m.clientHeight;return r.abs(17*p+25*o-l)}catch(k){return 1}}return{get:a}}(),a0=function(a){function h(i){i=i||{};var n=i.Uint32Array||bc.Uint32Array,m=i.crypto||bc.crypto,l=i.Math||bc.Math;try{var k=new n(1);return m.getRandomValues(k),k[0]}catch(j){return l.floor(1000000000*l.random())}}function g(){var i=bc.performance,m=i&&i.timing;if(!m){return 100000}var l=m.domainLookupEnd-m.domainLookupStart,k=m.connectEnd-m.connectStart,j=m.responseStart-m.navigationStart;return 11*l+13*k+17*j}function f(i){i=i||{};var d=i.Math||bc.Math,c=Number((new Date).getTime().toString().substring(3)),b=d.abs(c+g()-a.get()).toString(32);return b+=h(i).toString(32)}return{generate:f}}(a1),aZ=function(a){var f=bc.document,e=f.createElement("iframe");return e.style.display="none",function(d,c){var h=c&&c[d]||null;try{return e.parentNode!==f.body&&f.body.appendChild(e),e.contentWindow[d]||h}catch(g){return h}}}({}),aY=function(b){return"[object String]"===Object.prototype.toString.call(b)},aX=function(){return bc.getComputedStyle?function(a,h,g){try{return bc.document.defaultView.getComputedStyle(a,null).getPropertyValue(h)}catch(f){return null}}:function(e,d,f){return e.currentStyle[d]||e.currentStyle[f]}}(),aW=function(g){function f(b){return b.replace(/\s+/g,"").toLowerCase()}var j=a6,i=aY,h=a3;return function(b,l,k){var e={};i(l)?e[l]=k:e=l;var d=h({},e);j(d,function(m,o){var n=f(o);n!==o&&(delete d[o],d[n]=m),null===m&&(d[n]=""),void 0===m&&delete d[n]});var c=b.style;j(d,function(n,m){c.setProperty(m,String(n),"important")})}}({}),aV=function(a){function p(b){return b.replace(/\s+/g,"").toLowerCase()}function o(b){return b=b.replace(/^#([a-f0-9])([a-f0-9])([a-f0-9])$/,"#$1$1$2$2$3$3"),b=b.slice(1),{red:parseInt(b.slice(0,2),16),green:parseInt(b.slice(2,4),16),blue:parseInt(b.slice(4,6),16)}}function n(d){var c=d.match(/^rgb\((\d+),(\d+),(\d+)\)$/);return{red:parseInt(c[1],10),green:parseInt(c[2],10),blue:parseInt(c[3],10)}}function m(d){var c=d.match(/^rgba\((\d+),(\d+),(\d+),([\d.]+)\)$/);return{red:parseInt(c[1],10),green:parseInt(c[2],10),blue:parseInt(c[3],10),alpha:parseFloat(c[4])}}function l(f,i,h,g){return i=bc.document.createElement(i),j(i,{visibility:"hidden",color:h}),f.appendChild(i),h=g(i),f.removeChild(i),h}function k(c,g){g=g||{};var e=g.container||bc.document.body;return bc.getComputedStyle?(c=l(e,"span",c,function(d){return bc.getComputedStyle(d,null).getPropertyValue("color")}),n(p(c))):(c=l(e,"textarea",c,function(b){return b.createTextRange().queryCommandValue("ForeColor")}),{red:255&c,blue:c>>>16,green:(65280&c)>>>8})}var j=aW;return function(d,c){d=p(d);var e;if("transparent"===d){return{red:0,green:0,blue:0,alpha:0}}if("#"===d.charAt(0)){e=o}else{if("rgba("===d.slice(0,5)){e=m}else{if("rgb("===d.slice(0,4)){e=n}else{if(!/^[a-z]+$/.test(d)){throw new Error("parseColor received unparseable color: "+d)}e=k}}}return e(d,c)}}({}),aU=function(ba){function aa(g){if(!g||"embed.js"!==g.substring(g.length-8)){return null}for(var f,j=[/(https?:)?\/\/(www\.)?disqus\.com\/forums\/([\w_-]+)/i,/(https?:)?\/\/(www\.)?([\w_-]+)\.disqus\.com/i,/(https?:)?\/\/(www\.)?dev\.disqus\.org\/forums\/([\w_-]+)/i,/(https?:)?\/\/(www\.)?([\w_-]+)\.dev\.disqus\.org/i],i=j.length,h=0;h<i;h++){if(f=g.match(j[h]),f&&f.length&&4===f.length){return f[3]}}return null}function Z(j,d){var t,s,r,p=j.getElementsByTagName("script"),l=p.length;d=d||aa;for(var k=l-1;k>=0;k--){if(t=p[k],s=t.getAttribute?t.getAttribute("src"):t.src,r=d(s),null!==r){return r.toLowerCase()}}return null}function Y(h,g){var l,k,j=0,i=new Array(h.length);for(l=0;l<=h.length;l++){for(i[l]=new Array(g.length),k=0;k<=g.length;k++){i[l][k]=0}}for(l=0;l<h.length;l++){for(k=0;k<g.length;k++){h[l]===g[k]&&(i[l+1][k+1]=i[l][k]+1,i[l+1][k+1]>j&&(j=i[l+1][k+1]))}}return j}function X(){for(var f=m.getElementsByTagName("h1"),s=m.title,r=s.length,p=s,l=0.6,k=function(c){var e,d=c.textContent||c.innerText;null!==d&&d!==bb&&(e=Y(s,d)/r,e>l&&(l=e,p=d))},j=0;j<f.length;j++){k(f[j])}return p}function W(c){return c.toLowerCase().replace(/^\s+|\s+$/g,"").replace(/['"]/g,"")}function V(g){var f=0,j=1,i=2;if(!n("atob")||!n("requestAnimationFrame")){return j}try{g.postMessage("ping","*")}catch(h){return i}return f}function U(f,e,h){h=h||e;var g=I(f,e,h);return !g||/color/i.test(e)&&0===q(g).alpha?f&&U(f.parentNode,e,h)||g:g||null}function T(g,f,j,i){K(f)&&(f=m.createElement(f));var h=null;return f.style.visibility="hidden",g.appendChild(f),h=U(f,j,i),g.removeChild(f),h}function S(h){for(var g,l=T(h,"span","font-family","fontFamily"),k=l.split(","),j={courier:1,times:1,"times new roman":1,georgia:1,palatino:1,serif:1},i=0;i<k.length;i++){if(g=W(k[i]),j.hasOwnProperty(g)){return !0}}return !1}function R(d){var c=m.createElement("a");return c.href=Number(new Date),q(T(d,c,"color"),{container:d})}function O(h){var g=h.red,l=h.green,k=h.blue;if(h.hasOwnProperty("alpha")){var j=h.alpha,i=function(c){return Math.round(c*j+255*(1-j))};g=i(g),l=i(l),k=i(k)}return(299*g+587*l+114*k)/1000}function M(e){var d=T(e,"span","background-color","backgroundColor"),f=q(d,{container:e});return 0===f.alpha?"light":O(f)<128?"dark":"light"}var K=aY,I=aX,q=aV,n=aZ,m=bc.document,b=function(){var e,d,f=function(){return !1};if("hidden" in m){e="hidden",d="visibilitychange"}else{if(!("webkitHidden" in m)){return{isHidden:f,listen:f,stopListening:f}}e="webkitHidden",d="webkitvisibilitychange"}return{isHidden:function(){return m[e]},listen:function(c){return m.addEventListener(d,c)},stopListening:function(c){return m.removeEventListener(d,c)}}}(),a=function(){var f=m.createElement("div");f.style.visibility="hidden",f.style.width="100px",f.style.msOverflowStyle="scrollbar",m.body.appendChild(f);var e=f.offsetWidth;f.style.overflow="scroll";var h=m.createElement("div");h.style.width="100%",f.appendChild(h);var g=h.offsetWidth;return f.parentNode.removeChild(f),e-g},Q={isIE:function(){return Boolean(m.documentMode)},isSafari:function(){var c=bc.navigator.userAgent.toLowerCase();return c.indexOf("safari")>-1&&c.indexOf("chrome")===-1},isCrawler:function(f){f===bb&&(f=bc);var e=f.navigator.userAgent;return/bot|crawl|slurp|spider|facebookexternalhit|embedly|feedly|pinterest/i.test(e)}},P={getItem:function(d){try{return bc.localStorage.getItem(d)}catch(e){}},setItem:function(e,g){try{return bc.localStorage.setItem(e,g)}catch(f){}}},N=1,L=function(e){if(e.nodeType===N){var d=I(e,"max-height","maxHeight"),f=I(e,"overflow-y","overflowY");return d&&"none"!==d&&f&&"visible"!==f}},J=4,H=function(c){if(c.nodeType===N){return c.scrollHeight-c.clientHeight>J}},o=function(){if(m.querySelector){var c=m.querySelector("link[rel=canonical]");if(c){return c.href}}};return{MAX_Z_INDEX:2147483647,getShortnameFromUrl:aa,getForum:Z,guessThreadTitle:X,getContrastYIQ:O,getColorScheme:M,getElementStyle:T,getAnchorColor:R,normalizeFontValue:W,isSerif:S,getBrowserSupport:V,pageVisibility:b,getScrollbarWidth:a,browser:Q,storage:P,appearsToHideContent:L,hasOverflow:H,getCanonicalUrl:o}}({}),aT=function(b){var n=a6,m=a0,l=aZ,k=aU,j=function(d,e){this.win=d,this.configurator=e,this.config={page:{url:bb,title:bb,slug:bb,category_id:bb,identifier:bb,language:bb,integration:bb,api_key:bb,remote_auth_s3:bb,author_s3:bb},experiment:{enable_scroll_container:!0,force_auto_styles:bb,sort_order:bb,force_mobile:bb},server_side:{service:"static",experiment:"default",variant:"control",top_placement_url:bb,bottom_placement_url:bb,inthread_placement_url:bb,outside_placement_url:bb,inthread_minimum_comment_count:bb,inthread_show_after_comment:bb,inthread_leading_comment_count:bb,inthread_repeat_comment_count:bb,inthread_trailing_comment_count:bb,inthread_count_children:bb,inthread_multiple_ads:bb,sandbox_ads:bb,can_disable_ads:bb,home_discovery_enabled:bb,forum_id:bb},discovery:{disable_all:bb,disable_promoted:bb,sponsored_comment_id:bb,preview:!1,adsFixture:bb,pdFixture:bb},strings:bb,sso:{},callbacks:{preData:[],preInit:[],onInit:[],afterRender:[],onReady:[],onNewComment:[],preReset:[],onPaginate:[],onIdentify:[],beforeComment:[]}}};j.DISQUS_GLOBALS=["shortname","identifier","url","title","integration","slug","category_id"];var f=j.prototype;return f.getContainer=function(){var c=this.win;return c.document.getElementById(c.disqus_container_id||"disqus_thread")},f.runConfigurator=function(){var d=this.configurator||this.win.disqus_config;if("function"==typeof d){try{d.call(this.config)}catch(c){}}},f.getValuesFromGlobals=function(){var g,c=this.win,i=this.config,h=i.page;n(j.DISQUS_GLOBALS,function(d){var e=c["disqus_"+d];"undefined"!=typeof e&&(h[d]=e)}),this.runConfigurator(),i.forum||(g=h.shortname,i.forum=g?g.toLowerCase():k.getForum(c.document))},f.toJSON=function(){var e,d=this.win,q=this.config,p=q.page,o=this.getContainer(),g=k.getBrowserSupport(d);return this.getValuesFromGlobals(),(q.server_side.outside_placement_url||q.server_side.top_placement_url||q.server_side.inthread_placement_url||q.server_side.bottom_placement_url)&&(e=m.generate({Math:l("Math",d),crypto:l("crypto",d),Uint32Array:l("Uint32Array",d),Date:l("Date",d)})),{impressionId:e||null,container:o,forum:q.forum,sortOrder:q.experiment.sort_order||k.storage.getItem("disqus.sort")||"default",language:q.language,typeface:k.isSerif(o)?"serif":"sans-serif",anchorColor:k.getAnchorColor(o),colorScheme:k.getColorScheme(o),canonicalUrl:k.getCanonicalUrl(),url:p.url||d.location.href.replace(/#.*$/,""),title:p.title,documentTitle:k.guessThreadTitle(),slug:p.slug,category:p.category_id,identifier:p.identifier,integration:p.integration,discovery:q.discovery,experimentName:q.server_side.experiment,experimentVariant:q.server_side.variant,experimentService:q.server_side.service,forumId:q.server_side.forum_id,topPlacementUrl:q.server_side.top_placement_url,bottomPlacementUrl:q.server_side.bottom_placement_url,inthreadPlacementUrl:q.server_side.inthread_placement_url,outsidePlacementUrl:q.server_side.outside_placement_url,inthreadMinimumCommentCount:q.server_side.inthread_minimum_comment_count,inthreadShowAfterComment:q.server_side.inthread_show_after_comment,inthreadLeadingCommentCount:q.server_side.inthread_leading_comment_count,inthreadRepeatCommentCount:q.server_side.inthread_repeat_comment_count,inthreadTrailingCommentCount:q.server_side.inthread_trailing_comment_count,inthreadCountChildren:q.server_side.inthread_count_children,inthreadMultipleAds:q.server_side.inthread_multiple_ads,sandboxAds:q.server_side.sandbox_ads,canDisableAds:q.server_side.can_disable_ads,homeDiscoveryEnabled:q.server_side.home_discovery_enabled,apiKey:p.api_key,remoteAuthS3:p.remote_auth_s3,sso:q.sso,unsupported:g,degraded:Boolean(g)||k.browser.isCrawler(),callbacks:q.callbacks,enableScrollContainer:q.experiment.enable_scroll_container,forceAutoStyles:q.experiment.force_auto_styles,forceMobile:q.experiment.force_mobile}},{HostConfig:j}}({}),aS=function(){var b;return b="undefined"==typeof console?function(){}:"function"==typeof console.log?function(){return console.log(Array.prototype.slice.call(arguments,0).join(" "))}:function(){return console.log.apply(console,arguments)},{log:b}}(),aR=function(b){return function(a){return Boolean(a&&(a.offsetWidth||a.offsetHeight||a.getClientRects().length)&&"hidden"!==b(a,"visibility"))}}(aX),aQ=function(f,e,h){var g=function(){var a=f();return a?void e(a):void setTimeout(g,h)};g()},aP=function(a){function l(b){return i.getElementById(b)||i.body||i.documentElement}function k(b){return h.href=b,h.hostname}function j(g,f){f=f||i.documentElement;for(var o=g,n=0,m=0;o&&o!==f;){n+=o.offsetLeft,m+=o.offsetTop,o=o.offsetParent}return{top:m,left:n,height:g.offsetHeight,width:g.offsetWidth}}var i=bc.document,h=i.createElement("a");return{getContainer:l,getHost:k,getOffset:j}}({}),aO=function(){var d=10000,c=Math.floor(Math.random()*d+1);return function(b){c+=1;var e=String(c);return b?b+e:e}}(),aN=function(x){var w=a6,v=a7,u=aO,t=function(g){var d,h=!1;return function(){return h?d:(h=!0,d=g.apply(this,arguments),g=null,d)}},s=Object.keys||function(g){if(g!==Object(g)){throw new TypeError("Invalid object")}var c=[];for(var h in g){v(g,h)&&(c[c.length]=h)}return c},r=[].slice,q={on:function(h,g,j){if(!o(this,"on",h,[g,j])||!g){return this}this._events=this._events||{};var i=this._events[h]||(this._events[h]=[]);return i.push({callback:g,context:j,ctx:j||this}),this},once:function(h,g,k){if(!o(this,"once",h,[g,k])||!g){return this}var j=this,i=t(function(){j.off(h,i),g.apply(this,arguments)});return i._callback=g,this.on(h,i,k)},off:function(F,E,D){var C,B,A,z,y,n,l,h;if(!this._events||!o(this,"off",F,[E,D])){return this}if(!F&&!E&&!D){return this._events={},this}for(z=F?[F]:s(this._events),y=0,n=z.length;y<n;y++){if(F=z[y],A=this._events[F]){if(this._events[F]=C=[],E||D){for(l=0,h=A.length;l<h;l++){B=A[l],(D&&D!==B.context||E&&E!==B.callback&&E!==B.callback._callback)&&C.push(B)}}C.length||delete this._events[F]}}return this},trigger:function(h){if(!this._events){return this}var g=r.call(arguments,1);if(!o(this,"trigger",h,g)){return this}var j=this._events[h],i=this._events.all;return j&&f(j,g),i&&f(i,arguments),this},stopListening:function(h,g,l){var k=this._listeners;if(!k){return this}var j=!g&&!l;"object"==typeof g&&(l=this),h&&((k={})[h._listenerId]=h);for(var i in k){k[i].off(g,l,this),j&&delete this._listeners[i]}return this}},p=/\s+/,o=function(j,i,z,y){if(!z){return !0}if("object"==typeof z){for(var n in z){j[i].apply(j,[n,z[n]].concat(y))}return !1}if(p.test(z)){for(var m=z.split(p),l=0,k=m.length;l<k;l++){j[i].apply(j,[m[l]].concat(y))}return !1}return !0},f=function(j,i){var z,y,n=j.length,m=i[0],l=i[1],k=i[2];switch(i.length){case 0:for(y=0;y<n;y++){(z=j[y]).callback.call(z.ctx)}return;case 1:for(y=0;y<n;y++){(z=j[y]).callback.call(z.ctx,m)}return;case 2:for(y=0;y<n;y++){(z=j[y]).callback.call(z.ctx,m,l)}return;case 3:for(y=0;y<n;y++){(z=j[y]).callback.call(z.ctx,m,l,k)}return;default:for(y=0;y<n;y++){(z=j[y]).callback.apply(z.ctx,i)}}},e={listenTo:"on",listenToOnce:"once"};return w(e,function(d,c){q[c]=function(a,k,j){var i=this._listeners||(this._listeners={}),h=a._listenerId||(a._listenerId=u("l"));return i[h]=a,"object"==typeof k&&(j=this),a[d](k,j,this),this}}),q.bind=q.on,q.unbind=q.off,q}({}),aM=function(a){var h,g=bc,f=aZ;return h="[object JSON]"===g.Object.prototype.toString.call(g.JSON)?g.JSON:f("JSON",g),h?h:{}}({}),aD=function(j){var i=aN,p=a3,o=aO,n=aP,m=aM,l=function k(b){b=b||{},this.state=k.INIT,this.uid=b.uid||o("dsq-frame"),this.origin=b.origin,this.host=n.getHost(this.origin),this.target=b.target,this.sandbox=b.sandbox,this.window=null,k.windows[this.uid]=this,this.on("ready",function(){this.state=k.READY},this),this.on("die",function(){this.state=k.KILLED},this)};return p(l,{INIT:0,READY:1,KILLED:2,windows:{},postMessage:function(e,d,f){return e.postMessage(d,f)}}),p(l.prototype,i),l.prototype.requiresWindow=function(d){var c=this;return function(){var f=Array.prototype.slice.call(arguments),b=function a(){var e=c.window;e?d.apply(c,f):setTimeout(a,500)};c.isReady()?b():c.on("ready",b)}},l.prototype.sendMessage=function(e,d){var f=m.stringify({scope:"client",name:e,data:d});this.requiresWindow(function(b){l.postMessage(this.window,b,this.origin)})(f)},l.prototype.hide=function(){},l.prototype.show=function(){},l.prototype.url=function(){return this.target},l.prototype.destroy=function(){this.state=l.KILLED,this.off()},l.prototype.isReady=function(){return this.state===l.READY},l.prototype.isKilled=function(){return this.state===l.KILLED},l}({}),aC=function(a){var n=aW,m=a3,l=aD,k=aP,j=bc.document,i=function(b){l.call(this,b),this.styles=b.styles||{},this.tabIndex=b.tabIndex||0,this.title=b.title||"Disqus",this.sandbox=b.sandbox,this.container=b.container,this.elem=null};return m(i.prototype,l.prototype),i.prototype.load=function(){var b=this.elem=j.createElement("iframe");b.setAttribute("id",this.uid),b.setAttribute("name",this.uid),b.setAttribute("allowTransparency","true"),b.setAttribute("frameBorder","0"),b.setAttribute("scrolling","no"),this.role&&b.setAttribute("role",this.role),b.setAttribute("tabindex",this.tabIndex),b.setAttribute("title",this.title),"string"==typeof this.sandbox&&b.setAttribute("sandbox",this.sandbox),this.setInlineStyle(this.styles)},i.prototype.getOffset=function(b){return k.getOffset(this.elem,b)},i.prototype.setInlineStyle=function(d,c){return n(this.elem,d,c)},i.prototype.removeInlineStyle=function(d){var c=this.elem.style;return"removeProperty" in c?void c.removeProperty(d):void (c[d]="")},i.prototype.hide=function(){this.setInlineStyle("display","none")},i.prototype.show=function(){this.removeInlineStyle("display")},i.prototype.destroy=function(){return this.elem&&this.elem.parentNode&&(this.elem.parentNode.removeChild(this.elem),this.elem=null),l.prototype.destroy.call(this)},i}({}),aB=function(a){var n=aY,m=a3,l=aP,k=aC,j=bc.document,i=function(b){k.call(this,b),this.contents=b.contents||"",this.styles=m({width:"100%",border:"none",overflow:"hidden"},b.styles||{})};return m(i.prototype,k.prototype),i.prototype.load=function(e){k.prototype.load.call(this);var c=this.elem,g=n(this.container)?l.getContainer(this.container):this.container;g.appendChild(c),this.window=c.contentWindow;try{this.window.document.open()}catch(f){c.src='javascript:var d=document.open();d.domain="'+j.domain+'";void(0);'}return this.document=this.window.document,this.document.write(this.contents),this.document.close(),this.updateHeight(),e&&setTimeout(e,0),this},i.prototype.updateHeight=function(){var d=this.document.body;if(d){var c=d.offsetHeight+"px";this.setInlineStyle({height:c,"min-height":c,"max-height":c})}},i.prototype.show=function(){this.setInlineStyle("display","block"),this.updateHeight()},i.prototype.click=function(e){var d=this,f=d.document.body;f.addEventListener("click",function(b){e.call(d,b)})},i}({}),aA=function(a){var f=aX,e=bc.document.body;return function(){var d=e.offsetHeight,c=parseInt(f(e,"margin-top","marginTop"),10);c&&(d+=c);var g=parseInt(f(e,"margin-bottom","marginBottom"),10);return g&&(d+=g),d}}({}),az=function(j){var i=a3,p=aJ,o=bd,n="default",m={lounge:"http://disqus.com/embed/comments/",home:"https://disqus.com/home/".replace("home/","")},l=function(b){return"https://"+b.replace(/^\s*(\w+:)?\/\//,"")},k=function(d,q,g){var f=m[d];if(!f){throw new Error("Unknown app: "+d)}var e=l(f),c=i({base:n},q||{}),b=g?"#"+o(g):"";return p(e,c)+b};return{BASE:n,apps:m,get:k,ensureHTTPSProtocol:l}}({}),ay=function(h){var e=aN,l=a3,k=a7,j=aO,i=function(f){this.uid=j("dsq-app"),this.settings=f||{};var d=[],o=this.constructor.prototype;do{d.unshift(o),o=o.constructor.__super__}while(o);for(var n=0,m=d.length;n<m;n++){o=d[n],k(o,"events")&&this.on(o.events,this),k(o,"onceEvents")&&this.once(o.onceEvents,this)}};return l(i.prototype,e),i.prototype.destroy=function(){this.off(),this.stopListening()},i.extend=function(d,c){var o,n=this;o=d&&k(d,"constructor")?d.constructor:function(){return n.apply(this,arguments)},l(o,n,c);var m=function(){this.constructor=o};return m.prototype=n.prototype,o.prototype=new m,d&&l(o.prototype,d),o.__super__=n.prototype,o},i}({}),ax=function(r,q,p){p||(p=0);var o,n,m,l,k=0,j=function(){k=new Date,m=null,l=r.apply(o,n)};return function(){var b=new Date,a=q-(b-k);return o=this,n=arguments,a<=0?(clearTimeout(m),m=null,k=b,l=r.apply(o,n)):m||(m=setTimeout(j,a+p)),l}},ab=function(z){var y=aN,x=aY,w=a7,v=a3,u=aC,t=aD,s=aP,r=aM,n=bc.document;z.throttle=ax,bc.addEventListener("message",function(b){var k;try{k=r.parse(b.data)}catch(j){return}var h=k.sender,f=w(t.windows,h)&&t.windows[h];f&&s.getHost(b.origin)===f.host&&(b.origin!==f.origin&&(f.origin=b.origin),"host"===k.scope&&f.trigger(k.name,k.data),"error"===k.name&&z.trigger("error",k.data))}),bc.addEventListener("hashchange",function(){z.trigger("window.hashchange",{hash:bc.location.hash})}),bc.addEventListener("resize",z.throttle(function(){z.trigger("window.resize")},250,50)),n.addEventListener("mousemove",z.throttle(function(){z.trigger("window.mousemove")},250,50));var i=function(){z.trigger("window.scroll")};bc.addEventListener("scroll",z.throttle(i,250,50),!1),n.addEventListener("click",function(){z.trigger("window.click")});var e=z.Popup=function(b){b.uid=b.windowName,t.call(this,b)};v(e.prototype,t.prototype),e.prototype.load=function(){var c=this.window=bc.open("",this.uid||"_blank");c.location=this.url()},e.prototype.isKilled=function(){return t.prototype.isKilled()||this.window.closed};var a=z.Channel=function(d){var c=this;c.window=null,u.call(c,d),this.insertBeforeEl=d.insertBeforeEl,this.insertAfterEl=d.insertAfterEl,c.styles=v({width:"1px","min-width":"100%",border:"none",overflow:"hidden",height:"0"},d.styles||{})};return v(a.prototype,u.prototype),a.prototype.load=function(g){var d=this;u.prototype.load.call(d);var k=d.elem;k.setAttribute("width","100%"),k.setAttribute("src",this.url()),k.addEventListener("load",function(){d.window=k.contentWindow,g&&g()});var j=x(d.container)?s.getContainer(d.container):d.container,h=(d.insertAfterEl?d.insertAfterEl.nextSibling:d.insertBeforeEl)||null;j.insertBefore(k,h)},a.prototype.destroy=function(){return this.window=null,u.prototype.destroy.call(this)},z.on=y.on,z.off=y.off,z.trigger=y.trigger,z}(ab),aw=function(a){var n=a3,m=az,l=ay,k=ab,j=bc.document,i=l.extend({name:null,loaderVersion:null,frame:null,origin:m.ensureHTTPSProtocol("https://disqus.com"),state:null,getUrl:function(d,c){return this.loaderVersion&&(c=n({version:this.loaderVersion},c)),m.ensureHTTPSProtocol(m.get(this.name,d,c))},getFrameSettings:function(){var d={target:this.getUrl(),origin:this.origin,uid:this.uid,sandbox:this.sandbox},c=this.settings;return c.windowName?d.windowName=c.windowName:d.container=c.container||j.body,d},getFrame:function(){var d=this.getFrameSettings(),c=d.windowName?k.Popup:k.Channel;return new c(d)},setState:function(d){var c=this.constructor;return d in c.states&&(this.state=c.states[d],void this.trigger("state:"+d))},init:function(){var d,c=this;c.frame=d=this.getFrame(),c.listenTo(d,"all",function(e,b){c.trigger("frame:"+e,b,d)}),c.trigger("change:frame",d),c.frame.load(function(){c.setState("LOADED")}),c.setState("INIT")},destroy:function(){var b=this.frame;b&&(this.stopListening(b),b.destroy()),this.setState("KILLED"),this.frame=null,l.prototype.destroy.call(this)},events:{"frame:ready":function(){this.setState("READY")}}},{states:{INIT:0,LOADED:1,READY:2,RUNNING:3,KILLED:4}});return i}({}),av=function(t){var s=aX,r=aA,q=aR,p=aw,o=ab,n=aU,m=bc.document,l=m.querySelector("html"),a=p.extend({getUrl:function(){var d=this.settings,e={f:d.forum,t_i:d.identifier,t_u:d.url||bc.location.href,t_s:d.slug,t_e:d.title,t_d:d.documentTitle,t_t:d.title||d.documentTitle,t_c:d.category,s_o:d.sortOrder,l:d.language};return d.unsupported&&(e.n_s=d.unsupported),p.prototype.getUrl.call(this,e)},getFrameInitParams:function(e){var g=this.settings,f={permalink:g.permalink,anchorColor:g.anchorColor,referrer:bc.location.href,hostReferrer:m.referrer,canonicalUrl:g.canonicalUrl,colorScheme:g.colorScheme,typeface:g.typeface,remoteAuthS3:g.remoteAuthS3,apiKey:g.apiKey,sso:g.sso,parentWindowHash:bc.location.hash,forceAutoStyles:g.forceAutoStyles,forceMobile:g.forceMobile,layout:g.layout,integration:g.integration,version:g.version,timestamp:this.timestamp,embedLoadTime:this.getBootloaderTimingInfo(),isHeightRestricted:this.isHeightRestricted()};return f.initialPosition=this.getViewportAndScrollStatus(),f},listenToScrollEvent:function(f){var e=this,h=e.getScrollContainer();if(h===l){return e.listenTo(o,"window.scroll",f),function(){e.stopListening(o,"window.scroll",f)}}var g=o.throttle(function(){f.call(e)},250,50);return h.addEventListener("scroll",g),function(){h.removeEventListener("scroll",g)}},storeScrollContainer:function(){if(!this.settings.enableScrollContainer){return void (this.scrollContainer=l)}var g,c,j=[];if(this.potentialScrollContainers){for(c=0;c<this.potentialScrollContainers.length&&(g=this.potentialScrollContainers[c],!(g.clientHeight<g.scrollHeight));c++){g=null}}else{g=this.settings.container;do{var i=s(g,"overflow-y","overflowY");if(("scroll"===i||"auto"===i)&&(j.push(g),g.clientHeight<g.scrollHeight)){break}g=g.parentNode}while(g&&g!==l)}g&&g!==m.body||(g=l),this.potentialScrollContainers||(this.potentialScrollContainers=j);var h=this.scrollContainer&&this.scrollContainer!==g;this.scrollContainer=g,h&&(this.stopListeningToScrollEvent&&this.stopListeningToScrollEvent(),this.stopListeningToScrollEvent=this.listenToScrollEvent(this.communicateViewportAndScrollStatus))},getScrollContainer:function(){return this.scrollContainer||this.storeScrollContainer(),this.scrollContainer},getViewportCoords:function(){return this.getScrollContainer()===l?this.getWindowCoords():this.getScrollContainerCoords()},getWindowCoords:function(){if("number"==typeof bc.pageYOffset){this.getWindowScroll=function(){return bc.pageYOffset},this.getWindowHeight=function(){return bc.innerHeight}}else{var c=l.clientHeight||l.clientWidth?l:m.body;this.getWindowScroll=function(){return c.scrollTop},this.getWindowHeight=function(){return c.clientHeight}}return this.getWindowCoords=function(){return{top:this.getWindowScroll(),height:this.getWindowHeight()}},this.getWindowCoords()},getScrollContainerCoords:function(){var b=this.getScrollContainer();return{top:b.scrollTop,height:b.clientHeight}},getBootloaderTimingInfo:function(){if(bc.performance&&bc.performance.getEntriesByName){var d=m.currentScript?m.currentScript.src:"https://"+this.settings.forum+".disqus.com/embed.js",e=bc.performance.getEntriesByName(d)[0];return e&&e.duration}},getViewportAndScrollStatus:function(){var d=this.frame;if(!d||!d.getOffset){return null}if(!q(d.elem)){return null}var c=this.getViewportCoords();return{frameOffset:d.getOffset(this.getScrollContainer()),pageOffset:c.top,height:c.height}},communicateViewportAndScrollStatus:function(){var C=this.getViewportAndScrollStatus();if(C){var B=C.frameOffset,A=B.top,z=A+B.height,y=C.pageOffset,x=C.height,w=y+x,v=!1,u=!1;A<=w+x&&(v=z>=y,u=v&&A<=w);var k=this.frame;k.sendMessage("window.scroll.always",C),v&&k.sendMessage("window.scroll",C),u!==this.wasInViewport&&(k.sendMessage(u?"window.inViewport":"window.scrollOffViewport"),this.wasInViewport=u)}},getBestNextFrameHeight:function(h){var d=this.getViewportAndScrollStatus();if(!d||this.settings.enableScrollContainer||!this.getScrollContainer()){return h}var u=d.frameOffset;if(h>=u.height){return h}var k=r(),j=k-(u.height+u.top),i=d.pageOffset+d.height-(u.top+j);return i>h?i+1:h},isHeightRestricted:function(h){function g(){return n.appearsToHideContent(k)||i&&n.appearsToHideContent(j)}function u(){return n.appearsToHideContent(k)&&n.hasOverflow(k)||i&&n.appearsToHideContent(j)&&n.hasOverflow(j)}h=h||{};var k=this.settings.container,j=k.parentNode,i=j!==l&&j!==m.body;return h.checkScrollHeight?u():g()},events:{"state:INIT":function(){this.settings.degraded||(this.settings.windowName||(this.stopListeningToScrollEvent=this.listenToScrollEvent(this.communicateViewportAndScrollStatus),this.listenTo(o,"window.resize",this.communicateViewportAndScrollStatus)),this.timestamp=Number(new Date))},"state:LOADED":function(){var d=this.frame,c=d.elem;this.settings.degraded?(d.setInlineStyle("height","500px"),c.setAttribute("scrolling","yes"),c.setAttribute("horizontalscrolling","no"),c.setAttribute("verticalscrolling","yes"),d.show()):this.settings.windowName||(this.rendered=!1,d.setInlineStyle("height","0"),c.setAttribute("scrolling","no"),c.setAttribute("horizontalscrolling","no"),c.setAttribute("verticalscrolling","no"))},"frame:ready":function(e,d){var f=this.getFrameInitParams(e,d);d.sendMessage("init",f)},"frame:resize":function(e,d){var f=e.height;d.elem&&this.rendered&&(f=this.getBestNextFrameHeight(f),d.setInlineStyle("height",f+"px"),d.sendMessage("embed.resized")),this.storeScrollContainer(),this.communicateViewportAndScrollStatus()},"frame:rendered":function(d,c){this.rendered=!0,this.wasInViewport=!1,c.trigger("resize",d),c.sendMessage("embed.rendered")},"frame:fail":function(d,c){c.elem&&c.setInlineStyle("height",d&&d.height||"75px")},"frame:scrollTo":function(h,v){if(v.elem&&v.getOffset){var u=this.getScrollContainer(),k=v.getOffset(u),j="window"===h.relative?h.top:k.top+h.top,i=this.getViewportCoords();!h.force&&j>i.top&&j<i.top+i.height||(u===l?bc.scrollTo(0,j):u.scrollTop=j)}}}});return a}({}),au=function(r){var q=aX,p=aJ,o=aU,n=az,m=aw,l=bc.document,k=/^calc\((.+)\)$/,a=m.extend({name:"home",events:{"frame:close":function(d,e){e.hide(),bc.focus()},"frame:openReady":function(){this.frame.show(),this.frame.sendMessage("open"),(o.browser.isIE()||o.browser.isSafari())&&this.preventScrolling(),this.frame.elem&&this.frame.elem.focus()},"state:LOADED":function(){this.frame.removeInlineStyle("visibility")},"frame:after:render":function(){o.browser.isSafari()&&this.triggerHostReflow()}},preventScrolling:function(){var f=this.getBodyOverflow(),c=l.body.style.marginRight,h=l.documentElement.style,g=h.overflow;this.listenToOnce(this,"frame:close",function(){this.setBodyStyles({overflow:f,marginRight:c}),h.overflow=g}),this.setBodyStyles({overflow:"hidden",marginRight:this.calcMargin(q(l.body,"margin-right","marginRight")||c)}),h.overflow="hidden"},triggerHostReflow:function(){var b=l.createElement("style");l.body.appendChild(b),l.body.removeChild(b)},calcMargin:function(d){var c=d.match(k);return c&&(d=c[1]),d?"calc("+d+" + "+o.getScrollbarWidth()+"px)":o.getScrollbarWidth()+"px"},setBodyStyles:function(d){for(var c in d){l.body.style[c]=d[c]}},getBodyOverflow:function(){return l.body.style.overflow},getSecureOrigin:function(){return n.ensureHTTPSProtocol(a.SECURE_HOME_URL).split("/").slice(0,3).join("/")},getFrameSettings:function(){var b=m.prototype.getFrameSettings.call(this);return b.role="dialog",b.origin=this.getSecureOrigin(),b.styles={height:"100%",position:"fixed",top:0,right:0,left:"auto",bottom:"auto","z-index":o.MAX_Z_INDEX,visibility:"hidden"},b},getUrl:function(){var e=this.settings.path||"",d=this.settings.language,f={utm_source:"disqus_embed"};return d&&"en"!==d&&(f.l=d),p(n.apps[this.name]+e,f)},show:function(d){if(!this.frame.isReady()){return void this.once("frame:ready",function(){this.show(d)},this)}var c={disableMOTD:this.settings.disableMOTD,path:d};this.settings.sso&&(c.sso=this.settings.sso),this.frame.sendMessage("showPath",c)}},{SECURE_HOME_URL:"https://disqus.com/home/",READY_TIMEOUT:10000,getInstanceOrLoad:function(d){var c=a.instance;return c?c:(c=a.instance=new a(d),d.preload&&c.listenToOnce(c,"state:INIT",function(){c.frame.hide()}),a.setHomeTimeout(c),c.init(),d.forum&&c.listenToOnce(c,"frame:ready",function(){c.frame.sendMessage("setForum",d.forum)}),c)},setHomeTimeout:function(d){a.homeTimeoutId&&clearTimeout(a.homeTimeoutId);var c=a.homeTimeoutId=setTimeout(function(){d.frame.destroy(),d.trigger("timeout")},a.READY_TIMEOUT);d.listenToOnce(d,"state:READY",function(){clearTimeout(c)})},preload:function(b){return b.preload=!0,a.getInstanceOrLoad(b)},destroy:function(){var b=a.instance;b&&(b.destroy(),a.instance=null)},show:function(d){var c=a.getInstanceOrLoad(d);return c.show(d.path),c}});return{show:a.show,preload:a.preload,destroy:a.destroy,HomeApp:a}}({}),at=function(F){var D=bc.document,B=a6,A=aF,w=a3,v=aR,u=aQ,t=a2,r=aB,j=aP,i=av,f=ab,a=aS,H=aU,G=au,E=i.extend({name:"lounge",loaderVersion:t.getLoaderVersionFromUrl("https://c.disquscdn.com/next/embed/lounge.load.b4ade52be270eec89bb1fc840f280424.js"),indicators:null,wasInViewport:!1,triggeredSlowEvent:!1,events:{"state:INIT":function(){var c=this.settings,e=c.server_side;return e&&"fallback"===e.service&&t.logStat("embed.fallback"),c.degraded?void t.reportJester({imp:c.impressionId,experiment:c.experimentName,variant:c.experimentVariant,service:c.experimentService,forum:c.forum,version:this.loaderVersion,page_url:bc.location.href,page_referrer:D.referrer,event:"activity",verb:"load",product:"embed",zone:"thread",section:"degraded",adjective:c.unsupported,object_type:"thread",object_id:c.identifier}):(this.indicators={},this.isContainerVisible()?this.addLoadingAnim():this.addLoadingAnimOnContainerVisible(),this.bindPublisherCallbacks(),void this.forwardGlobalEvents())},"state:LOADED":function(){this.isContainerVisible()&&this.addLoadingAnim()},"frame:reload":function(){bc.location.reload()},"frame:navigate":function(c){bc.location.href=c},"frame:session.identify":function(b){this.trigger("session.identify",b)},"frame:posts.paginate":function(){this.trigger("posts.paginate")},"frame:posts.count":function(b){this.trigger("posts.count",b)},"frame:posts.create":function(b){this.trigger("posts.create",{id:b.id,text:b.raw_message})},"frame:posts.beforeCreate":function(b){this.onBeforePostCreate(b)},"frame:home.destroy":function(){this.destroyHome()},"frame:home.preload":function(b){this.preloadHome(b)},"frame:home.show":function(b){this.showHome(b)},"frame:home.open":function(c){bc.location=c},"frame:indicator:init":function(K,J){if(J.getOffset){for(var I,z,y=["north","south"],x=this.indicators,s=J.getOffset().width+"px",q={width:s,"min-width":s,"max-width":s,position:"fixed","z-index":H.MAX_Z_INDEX-1},p={north:{top:"0"},south:{bottom:"0"}},o=function(){J.sendMessage("indicator:click",this.uid.split("-")[1])},m=0;m<y.length;m++){z=y[m],I=new r({uid:"indicator-"+z,container:this.settings.container,contents:K[z].contents,styles:w(p[z],q),role:"alert",type:z});try{I.load()}catch(g){continue}I.hide(),I.click(o),x[z]=I}this.on({"frame:indicator:show":function(d){var c=x[d.type];c&&(c.document.getElementById("message").innerHTML=d.content,c.show())},"frame:indicator:hide":function(h){var e=h&&h.type,l=e&&x[e];if(l){l.hide()}else{if(!e){for(var k=0;k<y.length;k++){e=y[k],l=x[e],l&&l.hide()}}}}})}},"frame:change:sort":function(b){H.storage.setItem("disqus.sort",b)},"frame:fail frame:rendered":function(){this.removeLoadingAnim(),this.setState("RUNNING")},"frame:fail":function(b){t.logStat("failed_embed.server."+b.code)},"frame:rendered":function(){this.triggeredSlowEvent&&t.logStat("rendered_embed.slow")}},onceEvents:{"frame:viglink:init":function(e){var m=function(){for(var c in bc){if(0===c.indexOf("skimlinks")||0===c.indexOf("skimwords")){return !0}}return !1};if(!(bc.vglnk_self||bc.vglnk||m())){var l=e.apiUrl,k=e.key,h=String(e.id);null!=e.clientUrl&&null!=l&&null!=k&&null!=e.id&&(DISQUS.vglnk={api_url:l,key:k,sub_id:h},bc.vglnk_self="DISQUS.vglnk",A(e.clientUrl))}}},getFrameInitParams:function(e,d){var g=i.prototype.getFrameInitParams.call(this,e,d);return g.experiment={experiment:this.settings.experimentName,variant:this.settings.experimentVariant,service:this.settings.experimentService},g.isBehindClick=this.isHeightRestricted()||!v(d.elem),g.startedFullyVisible=!1,this.whenFullyVisible(function(){g.startedFullyVisible=!0,d.sendMessage("frame.visible",{})}),g.discovery=this.settings.discovery,g.isHostIframed=this.settings.isHostIframed,g.sandboxAds=this.settings.sandboxAds,g.canDisableAds=this.settings.canDisableAds,g.homeDiscoveryEnabled=this.settings.homeDiscoveryEnabled,g.inthreadMinimumCommentCount=this.settings.inthreadMinimumCommentCount,g.inthreadShowAfterComment=this.settings.inthreadShowAfterComment,g.inthreadPlacementUrl=this.settings.inthreadPlacementUrl,g.inthreadLeadingCommentCount=this.settings.inthreadLeadingCommentCount,g.inthreadRepeatCommentCount=this.settings.inthreadRepeatCommentCount,g.inthreadTrailingCommentCount=this.settings.inthreadTrailingCommentCount,g.inthreadCountChildren=this.settings.inthreadCountChildren,g.inthreadMultipleAds=this.settings.inthreadMultipleAds,this.settings.impressionId&&(g.impressionId=this.settings.impressionId),(this.settings.discoveryDisabled||this.settings.isHostIframed)&&(g.discoveryDisabled=!0),g},onBeforePostCreate:function(h){var g={text:h.raw_message};try{var m=this.settings.callbacks.beforeComment;if(m){for(var l=0;l<m.length;l++){g=m[l](g)}}}catch(k){a.log("Error processing Disqus callback: ",k.toString())}finally{this.frame.sendMessage("posts.beforeCreate.response",g&&g.text)}},destroyHome:function(){G.destroy()},preloadHome:function(d){d.path="home/preload/";var c=this.home=G.preload(this.getHomeData(d));this.listenToOnce(c,"frame:ready",function(){this.frame.sendMessage("home.ready")}),this.handleHomeTimeout(c)},handleHomeTimeout:function(b){this.listenTo(b,"timeout",function(){this.frame.sendMessage("home.timeout")})},showHome:function(d){var c=this.home=G.show(this.getHomeData(d));this.listenToOnce(c,"frame:openReady",function(){this.frame.sendMessage("home.opened")}),this.handleHomeTimeout(c)},getHomeData:function(d){var c=this.settings;return d.language||(d.language=c.language),c.apiKey&&c.remoteAuthS3&&(d.sso={apiKey:c.apiKey,remoteAuthS3:c.remoteAuthS3}),d},forwardGlobalEvents:function(){var b=this;b.settings.windowName||(b.listenTo(f,"window.resize",function(){b.frame.sendMessage("window.resize")}),b.listenTo(f,"window.click",function(){b.frame.sendMessage("window.click")}),b.listenTo(f,"window.mousemove",function(){b.frame.sendMessage("window.mousemove")}),b.listenTo(f,"error",function(c){b.on("frame:rendered",function(){b.frame.sendMessage("error",c)})})),b.listenTo(f,"window.hashchange",function(c){b.frame.sendMessage("window.hashchange",c.hash)})},bindPublisherCallbacks:function(){var g=this,d=g.settings,k=E.LEGACY_EVENTS_MAPPING,h=d.callbacks;h&&B(h,function(c,l){k[l]&&B(c,function(e){g.on(k[l],e)})})},isContainerVisible:function(){var e=this.getViewportCoords(),d=j.getOffset(this.settings.container,this.getScrollContainer()),g=d.top+d.height-e.top;return g>0&&g<=e.height},pollFullyVisible:function(){var e=this;if(!e.pollingFullVisibility){e.pollingFullVisibility=!0;var d=e.isHeightRestricted(),g={};u(function(){return e.frame&&e.frame.elem?!(d&&!e.rendered)&&(v(e.frame.elem)&&!e.isHeightRestricted({checkScrollHeight:!0})):g},function(c){c!==g&&(e.fullyVisible=!0,e.trigger("fullyVisible"))},e.constructor.VISIBILITY_POLL_INTERVAL)}},whenFullyVisible:function(b){this.pollFullyVisible(),this.fullyVisible?b():this.once("fullyVisible",b)},showSlowLoadingMessage:function(){var d,c=this;if(c.loadingElem){if(H.pageVisibility.isHidden()){return d=function(){H.pageVisibility.stopListening(d),c.setSlowLoadingMessageTimer(2000)},void H.pageVisibility.listen(d)}c.triggeredSlowEvent=!0,c.state===c.constructor.states.READY?t.logStat("slow_embed.got_ready"):c.state===c.constructor.states.LOADED?t.logStat("slow_embed.loaded"):t.logStat("slow_embed.no_ready"),c.loadingElem.firstChild.insertAdjacentHTML("afterend",'<p align="center">Disqus seems to be taking longer than usual. <a href="#" onclick="DISQUS.reset({reload: true}); return false;">Reload</a>?</p>')}},clearSlowLoadingMessageTimer:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},setSlowLoadingMessageTimer:function(d){var c=this;c.clearSlowLoadingMessageTimer(),c.timeout=setTimeout(function(){c.showSlowLoadingMessage()},d)},addLoadingAnimOnContainerVisible:function(){var d,c=this;d=c.listenToScrollEvent(function(){var b=c.isContainerVisible();(b||c.state>=c.constructor.states.RUNNING)&&d(),b&&c.addLoadingAnim()})},addLoadingAnim:function(){var I,z,y,x=this,s=x.settings.container;if(x.loadingElem){return x.loadingElem}if(!(x.state>=x.constructor.states.RUNNING||this.settings.degraded)){I=D.createElement("div"),z=D.createElement("div"),y=D.createElement("div"),z.appendChild(y),I.appendChild(z),I.dir="ltr",I.style.overflow="hidden";var q="dark"===x.settings.colorScheme,p=z.style;p.height="52px",p.width="54px",p.margin="0 auto",p.overflow="hidden",p.position="relative",p.background="url(https://c.disquscdn.com/next/embed/assets/img/loader-bg.173909e4737a7481df14d5492b5eeb48.png) no-repeat",q&&(p.backgroundPosition="0 -52px");var o=13,n=q?"rgba(223, 228, 237, .4)":"rgba(51, 54, 58, .4)",l=y.style;p.boxSizing=l.boxSizing="border-box",l.height=l.width=2*o+"px",l.position="absolute",l.top="13px",l.left="15px",l.borderWidth="3px",l.borderStyle="solid",l.borderColor=n+" transparent",l.borderRadius=o+"px",l.transformOrigin="50% 50% 0px";var c="transform" in l?{js:"transform",css:"transform"}:{js:"webkitTransform",css:"-webkit-transform"};return l.transition=c.css+" 700s linear",setTimeout(function(){l[c.js]="rotate(360000deg)"},16),s.appendChild(I),x.loadingElem=I,t.logStat("lounge.loading.view"),x.setSlowLoadingMessageTimer(15000),x.loadingElem}},removeLoadingAnim:function(){var d=this.loadingElem,c=this.settings.container;this.clearSlowLoadingMessageTimer(),d&&d.parentNode===c&&(c.removeChild(d),this.loadingElem=null)},destroy:function(){var b=this.indicators;this.removeLoadingAnim(),b&&b.north&&(b.north.destroy(),b.north=null),b&&b.south&&(b.south.destroy(),b.south=null),i.prototype.destroy.call(this)}},{LEGACY_EVENTS_MAPPING:{onReady:"frame:rendered",onNewComment:"posts.create",onPaginate:"posts.paginate",onCommentCountChange:"posts.count",onIdentify:"session.identify"},VISIBILITY_POLL_INTERVAL:500}),C=function(b){return new E(b)};return{Lounge:C}}({}),ar=function(r,q,p){var o,n,m,l,k,j=function(){var a=(new Date).getTime()-l;a<q&&a>=0?o=setTimeout(j,q-a):(o=null,p||(k=r.apply(m,n),o||(m=n=null)))};return function(){m=this,n=arguments,l=(new Date).getTime();var a=p&&!o;return o||(o=setTimeout(j,q)),a&&(k=r.apply(m,n),m=n=null),k}},aq=function(e,d){for(var f=0;f<e.length;++f){if(e[f]===d){return f}}return -1},ap=function(f,e,h){for(var g=0;g<f.length;++g){if(e.call(h,f[g],g,f)){return !0}}return !1},ao=function(b){return"[object Function]"===Object.prototype.toString.call(b)},an=function(b){return function(a,h,g){var f=null===a||void 0===a?void 0:a[h];return void 0===f&&(f=g),b(f)?f.call(a):f}}(ao),am=function(b){return Boolean(b&&1===b.nodeType)},aK=function(e,d,f){return e.getElement=function(b){return d(b)?b:b&&b.el},e.EL_ID_ATTR="data-visibility-id",e.OBJ_ID_PROP="_visibility_id",e.getId=function(b){var a=null;return d(b)?(a=b.getAttribute(e.EL_ID_ATTR)||null,a||(a=f(),b.setAttribute(e.EL_ID_ATTR,a))):b&&(a=b[e.OBJ_ID_PROP]||null,a||(a=b[e.OBJ_ID_PROP]=f())),a},e.visiblePercent=function(i,h){var n=0;if(!h){return n}var m=i.top,l=m+i.height,k=h.visibleTop<m,j=h.visibleBottom>l;return !k&&!j||k&&j?n=1:k?n=(h.height-(m-h.visibleTop))/h.height:j&&(n=(l-h.visibleTop)/h.height),Math.round(100*n)},e}(aK,am,aO),aG=function(l,k,j,i,b,a){return a.events=[],a.lastPos=null,a.clearCache=function(d){if(d===bb){a.getElementOffset.cache={}}else{var e=b.getId(d);e&&(a.getElementOffset.cache[e]=null)}},a.calculateOffset=function(d){if(!d){return null}if(!j(d)){return null}var e=d.ownerDocument.documentElement;return{height:d.offsetHeight,top:d.getBoundingClientRect().top+bc.pageYOffset-(e.clientTop||0)}},a._getElementOffset=function(e){var d=b.getElement(e);if(!d){return null}var f=a.calculateOffset(d);return f?{visibleTop:f.top+(i(e,"topEdgeOffset")||0),visibleBottom:f.top+f.height-(i(e,"bottomEdgeOffset")||0),offsetTop:f.top,height:f.height}:null},a.getElementOffset=function(){var c=function(f){var m=c.cache,h=b.getId(f);if(h&&m[h]){return m[h]}var g=a._getElementOffset(f);return h&&g&&(m[h]=g),g};return c.cache={},c}(),a.EVENT_NAMES=["enter","exit","visible","invisible","all"],a.updateTracking=function(c){var g,d=function(e){return e?function(f){return e[f]}:function(){return bb}};k(a.EVENT_NAMES,d(c._events))?(g=l(a.events,c),g===-1&&a.events.push(c)):(g=l(a.events,c),g!==-1&&a.events.splice(g,1))},a.processEvents=function(g){a.lastPos=g;var f=a.events;if(f.length){for(var n=f.length-1;n>=0;--n){var m=f[n],h=m.isVisible(g);null!==h&&(h!==m.lastVisible&&m.trigger(h?"enter":"exit",m,g),m.trigger(h?"visible":"invisible",m,g),m.lastVisible=h)}}},a}(aq,ap,aR,an,aK,aG),al=function(a,n,m,l,k){function j(b){return this instanceof j?(this.obj=b,void (this.lastVisible=!1)):new j(b)}var i=n(function(){k.processEvents(k.lastPos)},250);return l(j.prototype,a,{on:function(b){var f=!(this._events&&this._events[b]),e=a.on.apply(this,arguments);return f&&k.updateTracking(this),i(),e},off:function(b){var d=a.off.apply(this,arguments);return this._events&&this._events[b]||k.updateTracking(this),d},offset:function(){return k.getElementOffset(this.obj)},isVisible:function(f){if(f=f||k.lastPos,!f){return null}var e=f.top,h=e+f.height,g=this.offset();return !!g&&(g.offsetTop>=e&&g.visibleTop<h||g.offsetTop+g.height<=h&&g.visibleBottom>e)},invalidate:function(){return k.clearCache(this.obj),this}}),l(j,{invalidate:k.clearCache,scroll:k.processEvents,_windowScrollHandlerBound:!1,_ignoreCache:!1,_windowScrollHandler:m(function(){j._ignoreCache&&j.invalidate(),k.processEvents({top:bc.pageYOffset,height:bc.document.documentElement.clientHeight})},250),bindWindowEvents:function(c){this._windowScrollHandlerBound||("undefined"!=typeof c&&(j._ignoreCache=c),bc.addEventListener("scroll",this._windowScrollHandler),bc.addEventListener("resize",this._windowScrollHandler),this._windowScrollHandlerBound=!0,this._windowScrollHandler())},unbindWindowEvents:function(){j._ignoreCache=!1,bc.removeEventListener("scroll",this._windowScrollHandler),bc.removeEventListener("resize",this._windowScrollHandler),this._windowScrollHandlerBound=!1}}),j}(aN,ar,ax,a3,aG),ak=function(b){return b}(al),ac=function(b){return b=function(f,e){var h=null,g=!1;this.start=function(){g||(h=setTimeout(function(){g=!0,f()},e))},this.clear=function(){clearTimeout(h)}}}(ac),aj=function(){function b(c){if(c=Number(c),isNaN(c)||c>255){throw new Error("Color components should be numbers less than 256")}return c=c.toString(16),1===c.length?"0"+c:String(c)}return function(a){return"#"+b(a.red)+b(a.green)+b(a.blue)}}(),ai=function(){var d=["allow-forms","allow-pointer-lock","allow-popups","allow-same-origin","allow-scripts","allow-top-navigation"],c=function(a){return a?d.reduce(function(b,e){return a[e]&&(b+=e+" "),b},"").trim():""};return{getAttribute:c}}(),ah=function(a){return function(e){"undefined"==typeof e&&(e=bc.location.search);var b={};return a(e.substr(1).split("&"),function(d){var c=d.split("=").map(function(f){return decodeURIComponent(f.replace(/\+/g,"%20"))});c[0]&&(b[c[0]]=c[1])}),b}}(a6),ag=function(){var a={},d=bc.document.createElement("a");return a.getOrigin=function(e){d.href=e;var c=d.href.split("/");return c[0]+"//"+c[2]},a.getHostName=function(b){return d.href=b,d.hostname},a.getDomainPart=function(b,h){"undefined"==typeof h&&(h=0);var g=a.getHostName(b),f=g.split(".").reverse();return f[h]},a.getQuery=function(b){return d.href=b,d.search},a.getPathname=function(b){return d.href=b,d.pathname},a}(),af=function(){var e=function(b){return null!==b&&!isNaN(Number(b))&&isFinite(b)},c=function(b){return Math.min.apply(Math,a9(b))||0},f=function(b){return Math.max.apply(Math,a9(b))||0};return{min:c,max:f,isNumeric:e}}();var aH=function(){function b(f,e){for(var h=0;h<e.length;h++){var g=e[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(a,f,e){return f&&b(a.prototype,f),e&&b(a,e),a}}();ae=function(d){var c=function(){function a(){return a8(this,a),1!==arguments.length||d.isNumeric(arguments[0])?void this.fromArray(arguments):Array.isArray(arguments[0])?this.fromArray(arguments[0]):this.fromObject(arguments[0])}return aH(a,[{key:"fromArray",value:function(b){this.reset(),b.length>=6?(this.top=b[0],this.right=b[1],this.bottom=b[2],this.left=b[3],this.width=b[4],this.height=b[5]):b.length>=4?(this.top=b[0],this.right=b[1],this.bottom=b[2],this.left=b[3]):3===b.length?(this.top=b[0],this.right=b[1],this.bottom=b[2],this.left=0):2===b.length?(this.top=b[0],this.right=b[1],this.bottom=b[0],this.left=b[1]):(this.top=b[0],this.right=b[0],this.bottom=b[0],this.left=b[0]),this.update()}},{key:"fromObject",value:function(b){return this.fromArray([b.top,b.right,b.bottom,b.left,b.width,b.height])}},{key:"update",value:function(){this.width||(this.width=this.right-this.left),this.height||(this.height=this.bottom-this.top)}},{key:"reset",value:function(b){b=b||0,this.top=b,this.right=b,this.bottom=b,this.left=b,this.width=b,this.height=b}},{key:"getArea",value:function(){return(this.right-this.left)*(this.bottom-this.top)}}]),a}();return c.getOverlapRect=function(l,k){var j=d.max([l.left,k.left]),i=d.min([l.left+l.width,k.left+k.width]),b=d.max([l.top,k.top]),a=d.min([l.top+l.height,k.top+k.height]);return i>=j&&a>=b&&new c(b,i,a,j,i-j,a-b)},c.getOverlapArea=function(a,h){var g=d.max([0,d.min([a.right,h.right])-d.max([a.left,h.left])]),f=d.max([0,d.min([a.bottom,h.bottom])-d.max([a.top,h.top])]);return g*f},c}(af),ad=function(H){var G=9,F=function(b){return b&&b.parentNode},E=function(e,g){if(!e){return null}var f=bc.document.defaultView.getComputedStyle(e);return g&&f.hasOwnProperty(g)?f[g]:f},D=function(){return{x:bc.pageXOffset,y:bc.pageYOffset}},C=function(b){var h=void 0;if(b&&b.style){var g=b.style.display;b.style.display="block",h=b.getBoundingClientRect(),b.style.display=g,h=new H(h);var f=D();h.left+=f.x,h.right+=f.x,h.top+=f.y,h.bottom+=f.y}else{h=new H(0)}return h},B=function(f,e){var h=C(f);if(e){var g=C(e);h.top=g.top-g.top+e.scrollTop,h.bottom=h.top+h.height+e.scrollTop,h.left=h.left-g.left+e.scrollLeft,h.right=h.left+h.width+e.scrollLeft}return h},A=function(){var o=D(),n=o.y,m=o.x+bc.innerWidth,l=o.y+bc.innerHeight,k=o.x,f=bc.innerWidth,b=bc.innerHeight;return new H(n,m,l,k,f,b)},z=function(d){try{return d.nodeType===G?d:d.ownerDocument}catch(c){return null}},y=function(f){var i=z(f),h=void 0;try{i&&(h=i.parentWindow||i.defaultView||bc)}catch(g){h=bc}return h},x=function(b){var h=y(b),g=new H(0,h.innerWidth,h.innerHeight,0,h.innerWidth,h.innerHeight),f=D();return g.left+=f.x,g.right+=f.x,g.top+=f.y,g.bottom+=f.y,g},w=function(d){var c=z(d);if(c){return c.documentElement||c.body}},v=function(b){var f=w(b)||{},e=new H;return e.right=e.width=f.scrollWidth||0,e.bottom=e.height=f.scrollHeight||0,e},u=function(d,c){for(;c;){if(c===d){return !0}c=c.parentNode}return !1},t=function(d){var c=E(d);return"inline-block"===c.display||"none"!==c["float"]||"absolute"===c.position||"fixed"===c.position||"auto"!==c.width||"auto"!==c.height},s=function(e){var d=E(e),f={};return"scroll"===d.overflowX||"auto"===d.overflowX?f.xscroll=e.offsetWidth-e.clientWidth:f.xscroll=0,"scroll"===d.overflowY||"auto"===d.overflowY?f.yscroll=e.offsetHeight-e.clientHeight:f.yscroll=0,f.xhidden="hidden"===d.overflowX,f.yhidden="hidden"===d.overflowY,f},a=function(d){var c=E(d);return !!(c.clip&&"auto"!==c.clip||c.clipPath&&"none"!==c.clipPath)};return{getParentNode:F,getWindow:y,getScroll:D,getRect:C,getRectRelativeTo:B,getViewportRect:A,getDocument:z,getWindowRect:x,getRootNode:w,getRootRect:v,getNodeStyle:E,isParentOf:u,hasLayout:t,getNodeOverflow:s,isNodeClipped:a}}(ae);var aH=function(){function b(f,e){for(var h=0;h<e.length;h++){var g=e[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value" in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(a,f,e){return f&&b(a.prototype,f),e&&b(a,e),a}}();aI=function(a,j){var i=1,h=function(){function b(c){a8(this,b),this.node=c,this.document=a.getDocument(c),this.window=a.getWindow(c),this.root=a.getRootNode(c),this.ref=this.getRefNode(c.parentNode)}return aH(b,[{key:"getRefNode",value:function(e){for(;e&&e.nodeType===i;){var g=a.getNodeStyle(e);if(a.hasLayout(e)||"block"===g.display||"none"!==g.clear){var f=a.getNodeOverflow(e);if(f.xscroll||f.yscroll||f.xhidden||f.yhidden){return e}if(a.isNodeClipped(e)){return e}}e=e.parentNode}return this.root}},{key:"getNodesOver",value:function(B,A){A=A||1;var z=[],y=a.getRect(B),x=a.getRect(this.ref),w=a.getViewportRect(B);if(!bc.document.elementFromPoint){return z}for(var v={top:j.max([y.top,x.top])-w.top,right:j.min([y.right,x.right])-w.left,bottom:j.min([y.bottom,x.bottom])-w.top,left:j.max([y.left,x.left])-w.left},u=(v.right-v.left)/10,t=(v.bottom-v.top)/10,s=v.left;s<v.right;s+=u){for(var r=v.top;r<v.bottom;r+=t){for(var e=bc.document.elementFromPoint(s,r);e&&e.nodeType===i;){var c=a.getNodeStyle(e);if(a.hasLayout(e)||"block"===c.display||"none"!==c.clear){break}e=e.parentNode}e&&e.nodeType===i&&e!==this.node&&e!==this.root&&!a.isParentOf(e,this.node)&&(z.push(e),z.length>=A&&(s=v.right,r=v.bottom))}}return z}},{key:"getWindowGeom",value:function(){var k=this.window.innerHeight||0,g=this.window.innerWidth||0,o=this.window.screenY||this.window.screenTop||0,n=o+k,m=this.window.screenX||this.window.screenLeft||0,l=m+g;return{t:o,r:l,b:n,l:m,w:g,h:k}}},{key:"getSelfGeom",value:function(){var M=a.getRect(this.node),L=a.getRect(this.ref),K=a.getNodeStyle(this.node),J=a.getWindowRect(this.node),I=M.width,H=M.height;this.ref!==this.root&&(I=j.max([0,j.min([M.right,L.right])-j.max([M.left,L.left])]),H=j.max([0,j.min([M.bottom,L.bottom])-j.max([M.top,L.top])]));var G=j.max([0,j.min(M.right,J.right)-j.max([M.left,J.left])]),F=j.max([0,j.min([M.bottom,J.bottom])-j.max([M.top,J.top])]),E=j.min([I,G]),D=j.min([H,F]),C=M.width?E/M.width:0,B=M.height?D/M.height:0,A=E*D/(M.width*M.height),z=1,y=this.getNodesOver(this.node,z);if(y.length){var x=a.getRect(y[0]),w=j.max([0,j.min([x.right,M.right])-j.max([x.left,M.left])]),v=j.max([0,j.min([x.bottom,M.bottom])-j.max([x.top,M.top])]);A=j.max([0,(E*D-w*v)/(M.width*M.height)])}var c=a.getScroll();return{t:M.top-c.y,r:M.right-c.x,b:M.bottom-c.y,l:M.left-c.x,z:K.zIndex,w:M.width,h:M.height,xiv:1===C?"1":Number(C).toFixed(2),yiv:1===B?"1":Number(B).toFixed(2),iv:1===A?"1":Number(A).toFixed(2)}}},{key:"getExpandGeom",value:function(){var c=a.getRect(this.ref),n=a.getRect(this.node),m=a.getWindowRect(this.node),l={top:j.max([c.top,m.top]),right:j.min([c.right,m.right]),bottom:j.min([c.bottom,m.bottom]),left:j.max([c.left,m.left])},k=a.getNodeOverflow(this.ref);return{t:j.max([0,n.top-l.top]),r:j.max([0,l.right-n.right]),b:j.max([0,l.bottom-n.bottom]),l:j.max([0,n.left-l.left]),xs:Boolean(k.yscroll),yx:Boolean(k.xscroll)}}},{key:"getGeom",value:function(){return{win:this.getWindowGeom(),self:this.getSelfGeom(),exp:this.getExpandGeom()}}}]),b}(),d={get:function(e){var c=new h(e);return c.getGeom()}};return d}(ad,af),be=function(N){var M=az,L=aw,K=aM,J=al,I=aK,H=ac,G=aj,F=a3,E=ai,D=ah,C=aJ,B=ag.getOrigin,A=ag.getQuery,z=a2,y=aD,j=aI,i={adsnative:160465,prebid:160465,displayonly:160465,gravity:184723,taboola:184193,outbrain:185359,lq:160465},b=L.extend({name:"ads",origin:bb,onceEvents:{"view:enter":function(){this._reportLegacy({verb:"view",adverb:"0ms-no50perc"})},"view:iab":function(){this._reportLegacy({verb:"view",adverb:"iab-scroll"})}},events:{"frame:ready":function(c){this.forumId=c.forumId,this._reportOnce({verb:"load",extra_data:c.extraData},"load"),this.bindViewEvents(),this.triggerGeomUpdate()},"frame:resize":function(c){this.frame.setInlineStyle("height",c.height+"px"),this.triggerGeomUpdate()},"frame:click":function(){this._reportOnce({verb:"click"},"click")},"frame:hover":function(){this._reportOnce({verb:"hover"},"hover")},"frame:error-provider-not-ready":function(){this._reportLegacy({verb:"fail",object_type:"provider",object_id:this.getProvider(),adverb:"provider_not_ready"})},"frame:error-no-height":function(){this._reportLegacy({verb:"fail",object_type:"provider",object_id:this.getProvider(),adverb:"no_height"})},"frame:clearSandbox":function(){this.frame.elem.hasAttribute("sandbox")&&this.frame.elem.removeAttribute("sandbox")},"frame:redirect":function(c){this.frame.elem.src=c},"frame:logAd":function(c){this._report(c,{usePOST:!0})},"frame:$sf-init":function(){this.isSafeframe=!0},"frame:error":function(c){this.postMessageDirect({event:"error",data:{error:c}})}},constructor:function(){L.apply(this,arguments),this.origin=B(this.settings.adUrl),this._reportOnceHistory={}},init:function(){if(!this.settings.isHostIframed&&(this.settings.forum=D(A(this.settings.adUrl)).shortname,this.settings.forum)){var d=this.settings.discovery,g=d&&(d.disable_all||d.disable_promoted),e=0===bc.location.href.indexOf(M.apps.home);!e&&g&&this.settings.canDisableAds||(this._reportOnce({verb:"call",object_type:"provider",object_id:this.getProvider(),adjective:1},"call"),this.settings.sandboxAds&&(this.sandbox=E.getAttribute({"allow-scripts":!0,"allow-same-origin":!0,"allow-forms":!0,"allow-popups":!0})),L.prototype.init.call(this))}},getProvider:function(){if(this._provider){return this._provider}var c=this.settings.adUrl.match(/provider=(\w+)/);return c&&(this._provider=c[1]),this._provider},getUrl:function(){var c=this.settings;return C(c.adUrl,{anchorColor:G(c.anchorColor),colorScheme:c.colorScheme,sourceUrl:bc.document.location.href,typeface:c.typeface,canonicalUrl:c.canonicalUrl,disqus_version:c.version})},triggerGeomUpdate:function(){if(this.frame.elem&&this.isSafeframe){var c=j.get(this.frame.elem);this.postMessageDirect({event:"geom-update",data:{geom:c}})}},bindViewEvents:function(){if(!this._viewEventsBound){this._viewEventsBound=!0,J.bindWindowEvents(!0);var g=this,f=function(d,e){g.postMessageDirect({event:d,percentViewable:e})},l=1000,k=new H(function(){g.trigger("view:iab"),f("view:iab")},l),h=!1;this.listenTo(J({el:this.frame.elem}),{enter:function(){g.trigger("view:enter"),f("view:enter"),g.triggerGeomUpdate()},exit:function(){f("view:exit"),h&&(h=!1,f("view:50out"),k.clear()),g.triggerGeomUpdate()},visible:function(m,e){var d=I.visiblePercent(e,m.offset());d>=50&&!h?(h=!0,f("view:50in"),k.start()):d<50&&h&&(h=!1,f("view:50out"),k.clear()),f("view",d),g.triggerGeomUpdate()}})}},postMessageDirect:function(c){this.frame.requiresWindow(function(e){var d=K.stringify(F({},e,{space:"disqus"}));y.postMessage(this.window,d,this.origin),y.postMessage(this.window,"disqus."+e.event,this.origin)})(c)},_report:function(n){var m=arguments.length>1&&arguments[1]!==bb?arguments[1]:{},l=this.settings,k=this.getProvider();n.forum_id=l.forumId||this.forumId;var h=m.usePOST?"reportJesterPOST":"reportJester";z[h](F({imp:l.impressionId,experiment:l.experimentName,variant:l.experimentVariant,service:l.experimentService,area:l.placement,product:"embed",forum:l.forum,zone:"thread",version:z.getLoaderVersionFromUrl("https://c.disquscdn.com/next/embed/lounge.load.b4ade52be270eec89bb1fc840f280424.js"),page_url:bc.document.location.href,page_referrer:bc.document.referrer,object_type:"advertisement",provider:k,event:"activity"},n))},_reportLegacy:function(e){var d=this.settings,f=this.getProvider();this._report(F({advertisement_id:i[f],ad_product_name:"iab_display",ad_product_layout:"iab_display",bin:"embed:promoted_discovery:"+d.experimentService+":"+d.experimentName+":"+d.experimentVariant,object_id:"["+i[f]+"]",section:"default"},e))},_reportOnce:function(d,c){this._reportOnceHistory[c]||(this._reportLegacy(d),this._reportOnceHistory[c]=!0)},getFrameSettings:function(){var c=L.prototype.getFrameSettings.call(this);return c.insertBeforeEl=this.settings.insertBeforeEl,c.insertAfterEl=this.settings.insertAfterEl,c}}),a=function(c){return new b(c)};return{Ads:a}}({}),aL=function(C){var B=a5,A=a4,z=a3,t=a2,s=aT.HostConfig,j=aS,i=at,h=be,g=new s(bc);C.configAdapter=g;var b=[],a=!1,H=A(bc),G=C.removeDisqusLink=function(){var e=bc.document;if(e.getElementsByClassName){if("complete"!==e.readyState){return bc.addEventListener("load",G)}var k=e.getElementsByClassName("dsq-brlink"),f=k&&k.length&&k[0];f&&f.parentNode.removeChild(f)}};C.VERSION="40b1e52",C.loadEmbed=function(d){if(b.length){return D({reload:!0}),j.log("Use DISQUS.reset instead of reloading embed.js please."),void j.log("See https://help.disqus.com/customer/portal/articles/472107-using-disqus-on-ajax-sites")}g.configurator=d;var c=g.toJSON();c.version=C.VERSION,a||(c.container.innerHTML="",a=!0),C.loadApps(c),C.removeDisqusLink()};var F=function(){for(var c;c=b.pop();){c.triggeredSlowEvent&&c.state!==c.constructor.states.RUNNING&&t.logStat("reset_embed.slow"),c.destroy()}},E=function(f){F();var q=i.Lounge(z({},f,{discoveryDisabled:f.bottomPlacementUrl&&!f.homeDiscoveryEnabled,isHostIframed:H}));b.push(q),q.init();var p=function(c){q.whenFullyVisible(c)},o=function(c){return f.adBlockEnabled?c.replace(/\/(adsnative|prebid)/,"/taboola"):c};if(f.outsidePlacementUrl){var n=bc.document.getElementById("disqus_ad");if(n){var m=h.Ads(z({adUrl:f.outsidePlacementUrl,placement:"outside"},f,{isHostIframed:H,container:n}));b.push(m),m.init()}}var l=null;if(f.topPlacementUrl&&(f.topPlacementUrl=o(f.topPlacementUrl),l=h.Ads(z({adUrl:f.topPlacementUrl,placement:"top"},f,{isHostIframed:H,insertBeforeEl:q.frame.elem})),b.push(l),p(function(){l.init()})),f.bottomPlacementUrl&&!f.homeDiscoveryEnabled){f.bottomPlacementUrl=o(f.bottomPlacementUrl);var k=h.Ads(z({adUrl:f.bottomPlacementUrl,placement:"bottom"},f,{isHostIframed:H,insertAfterEl:q.frame.elem}));b.push(k),p(function(){null===l?k.init():k.listenToOnce(l,"frame:ready",function(){k.init()})})}};C.loadApps=function(c){c.adBlockEnabled===bb?B(function(d){c.adBlockEnabled=d,E(c)}):E(c)};var D=C.reset=function(c){c=c||{},F(),c.reload&&C.loadEmbed(c.config)};return C}(aL),aE=function(a){var n=bc.document,m=bc.DISQUS||{},l=aF;m.reset||(m.reset=aL.reset),m.request||(m.request={}),m.request.get||(m.request.get=function(e,d,f){l(e,d,f)}),m.host||(m.host={}),m.host._loadEmbed||(m.host._loadEmbed=aL.loadEmbed),bc.DISQUS=m;var k=n.createElement("link");k.rel="prefetch";try{k.relList.supports("preload")&&(k.rel="preload")}catch(j){}var i=function(e,c){var f=k.cloneNode();return f.as=c||"script",f.pr=1,f.href=e,n.head.appendChild(f),f};i("https://c.disquscdn.com/next/embed/styles/lounge.188f59a1df04c219bf32da7f76545092.css","style"),i("https://c.disquscdn.com/next/embed/common.bundle.037f55c32651d22255e90738c195e946.js"),i("https://c.disquscdn.com/next/embed/lounge.bundle.2fd6d206c06cd51584499fe8219aa635.js"),i("https://disqus.com/next/config.js")}({})}(this),this.DISQUS.host._loadEmbed();
